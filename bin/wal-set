#!/usr/bin/env bash
#
# Script to set colors generated by 'wal'
# https://github.com/dylanaraps/wal

# Source generated colors.
source "${HOME}/.cache/wal/colors.sh"

reload_dunst() {
    pkill dunst && \
        dunst \
            -lb "$color0" \
            -nb "$color0" \
            -cb "$color0" \
            -lf "$color15"  \
            -bf "$color15"  \
            -cf "$color15"  \
            -nf "$color15"  \
            -fn "${DUNST_FONT:-Artwiz Lemon 7}" \
            -geometry "${DUNST_SIZES:-0x0-5+40}" &
}

reload_bar() {
	killall -q polybar
	while pgrep -x polybar > /dev/null; do sleep 1; done
	# polybar -c ~/.config/polybar/twobwm/2bwm bottom --quiet &
	polybar -c ~/.config/polybar/twobwm/2bwm top --quiet &
}

main() {
    reload_dunst &
		reload_bar &
}

main >/dev/null 2>&1
